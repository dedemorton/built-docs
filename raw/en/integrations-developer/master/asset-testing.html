<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Asset testing | Integrations Developer Guide | Elastic</title>
<link rel="home" href="index.html" title="Integrations Developer Guide"/>
<link rel="up" href="testing.html" title="Test an integration"/>
<link rel="prev" href="testing.html" title="Test an integration"/>
<link rel="next" href="pipeline-testing.html" title="Pipeline testing"/>
<meta name="DC.type" content="Learn/Docs/Integrations/Developer"/>
<meta name="DC.subject" content="Integrations"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
<b>
  ğŸ“— Comments? âœï¸ Feedback? ğŸ¤” Suggestions?
  <a href="https://github.com/elastic/observability-docs/pull/769">Leave it here</a> ğŸ™ğŸ‘‹
</b>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Integrations Developer Guide</a></span>
Â»
<span class="breadcrumb-link"><a href="testing.html">Test an integration</a></span>
Â»
<span class="breadcrumb-node">Asset testing</span>
</div>
<div class="navheader">
<span class="prev">
<a href="testing.html">Â« Test an integration</a>
</span>
<span class="next">
<a href="pipeline-testing.html">Pipeline testing Â»</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="asset-testing"></a>Asset testing<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/integrations/asset-testing.asciidoc">edit</a></h2>
</div></div></div>
<p>Elastic Packages define assets to be loaded into Elasticsearch and Kibana. Asset loading tests exercise installing a package to ensure that its assets are loaded into Elasticsearch and Kibana as expected.</p>
<h4><a id="asset-testing-concepts"></a>Conceptual process<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/integrations/asset-testing.asciidoc">edit</a></h4>
<p>Conceptually, running an asset load test involves the following steps:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Build the package.
</li>
<li class="listitem">
Deploy Elasticsearch, Kibana, and the Package Registry (all part of the Elastic Stack). This step takes time so it should typically be done once as a pre-requisite to running asset loading tests on multiple packages.
</li>
<li class="listitem">
Install the package.
</li>
<li class="listitem">
Use various Kibana and Elasticsearch APIs to assert that the package&#8217;s assets were loaded into Kibana and Elasticsearch as expected.
</li>
<li class="listitem">
Remove the package.
</li>
</ol>
</div>
<h4><a id="define-asset-test"></a>Defining an asset loading test<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/integrations/asset-testing.asciidoc">edit</a></h4>
<p>As a package developer, you do not need to do any work to define an asset loading test for your package. All the necessary information is already present in the package&#8217;s files.</p>
<h4><a id="running-asset-test"></a>Running an asset loading test<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/master/docs/en/integrations/asset-testing.asciidoc">edit</a></h4>
<p>First, you must build your package. This corresponds to step 1 as described in the [<em>Conceptual process</em>](#Conceptual-process) section.</p>
<p>Navigate to the package&#8217;s root folder (or any sub-folder under it) and run the following command.</p>
<div class="pre_wrapper lang-terminal">
<pre class="programlisting prettyprint lang-terminal">elastic-package build</pre>
</div>
<p>Next, you must deploy Elasticsearch, Kibana, and the Package Registry. This corresponds to step 2 as described in the [<em>Conceptual process</em>](#Conceptual-process) section.</p>
<div class="pre_wrapper lang-terminal">
<pre class="programlisting prettyprint lang-terminal">elastic-package stack up -d</pre>
</div>
<p>For a complete listing of options available for this command, run <code class="literal">elastic-package stack up -h</code> or <code class="literal">elastic-package help stack up</code>.</p>
<p>Next, you must set environment variables needed for further <code class="literal">elastic-package</code> commands.</p>
<div class="pre_wrapper lang-terminal">
<pre class="programlisting prettyprint lang-terminal">$(elastic-package stack shellinit)</pre>
</div>
<p>Next, you must invoke the asset loading test runner. This corresponds to steps 3 through 5 as described in the [<em>Conceptual process</em>](#Conceptual-process) section.</p>
<p>Navigate to the package&#8217;s root folder (or any sub-folder under it) and run the following command.</p>
<div class="pre_wrapper lang-terminal">
<pre class="programlisting prettyprint lang-terminal">elastic-package test asset</pre>
</div>
<p>Finally, when you are done running all asset loading tests, bring down the Elastic Stack. This corresponds to step 4 as described in the [<em>Conceptual process</em>](#Conceptual-process) section.</p>
<div class="pre_wrapper lang-terminal">
<pre class="programlisting prettyprint lang-terminal">elastic-package stack down</pre>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="testing.html">Â« Test an integration</a>
</span>
<span class="next">
<a href="pipeline-testing.html">Pipeline testing Â»</a>
</span>
</div>
</div>
</body>
</html>
